{% extends 'base.html' %}
{% load static %}
{% block contenido %}
  <section id="login" class="login section">

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10">
          <div class="auth-container" data-aos="fade-in" data-aos-delay="200">

            <!-- Login Form -->
            <div class="auth-form login-form active">
              <div class="form-header">
                <h3>Bienvenido</h3>
                <p>Inicia sesión en tu cuenta</p>
              </div>

              <form class="auth-form-content" method="post" action="">
                <input type="hidden" name="next" value="{{ next|default:'/home/' }}">
                {% csrf_token %}
                {% if form.errors or error_message %}
                  <div class="alert alert-danger">
                    {% for field in form %}
                      {% for error in field.errors %}
                        <div>{{ field.label }}: {{ error }}</div>
                      {% endfor %}
                    {% endfor %}
                    {% if error_message %}
                      <div>{{ error_message }}</div>
                    {% endif %}
                  </div>
                {% endif %}
                <div class="input-group mb-3">
                  <span class="input-icon">
                    <i class="bi bi-envelope"></i>
                  </span>
                  <input type="email" name="username" class="form-control" placeholder="Email" required autocomplete="username">
                </div>

                <div class="input-group mb-3">
                  <span class="input-icon">
                    <i class="bi bi-lock"></i>
                  </span>
                  <input type="password" name="password" class="form-control" placeholder="Contraseña" required autocomplete="current-password" id="login-password">
                  <span class="password-toggle" onclick="togglePassword('login-password', this)">
                    <i class="bi bi-eye"></i>
                  </span>
<script>
function togglePassword(inputId, toggleElem) {
  var input = document.getElementById(inputId);
  if (input.type === "password") {
    input.type = "text";
    toggleElem.querySelector('i').classList.remove('bi-eye');
    toggleElem.querySelector('i').classList.add('bi-eye-slash');
  } else {
    input.type = "password";
    toggleElem.querySelector('i').classList.remove('bi-eye-slash');
    toggleElem.querySelector('i').classList.add('bi-eye');
  }
}
</script>
                </div>

                <div class="form-options mb-4">
                  <a href="#" class="forgot-password">Forgot password?</a>
                </div>

                <button type="submit" class="auth-btn primary-btn mb-3">
                  Iniciar Sesión
                  <i class="bi bi-arrow-right"></i>
                </button>
                

                <div class="divider">
                  <span>or</span>
                </div>

                <div class="switch-form">
                  <span>No tienes cuentas?</span>
                    <a href="{% url 'Cliente:registrarCliente' %}" class="switch-btn">Crear cuenta</a></div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section><!-- /Login Section -->
{% endblock %}